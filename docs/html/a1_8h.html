<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>COMP 4981 - Assignment 1: a1.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">COMP 4981 - Assignment 1&#160;<span id="projectnumber">1.0</span></div>
   <div id="projectbrief">IPC - Pipes and Signals</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>a1.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>See: <a class="el" href="a1_8c.html" title="This program demonstrates simple Linux IPC using pipes and signals.">a1.c</a>.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
</div>
<p><a href="a1_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d2f57209406fc467f85e3d235ca0af8"></a><!-- doxytag: member="a1.h::CHILD_PROCESS" ref="a6d2f57209406fc467f85e3d235ca0af8" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHILD_PROCESS</b>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a444e5eb9771cd88ff367b19ed52975db"></a><!-- doxytag: member="a1.h::OUTPUT_PROC" ref="a444e5eb9771cd88ff367b19ed52975db" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OUTPUT_PROC</b>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac40e028630699ce2e30b10d6fe58eef6"></a><!-- doxytag: member="a1.h::TRANSLATE_PROC" ref="ac40e028630699ce2e30b10d6fe58eef6" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRANSLATE_PROC</b>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4d3640fa33744f79768f60d7764e350"></a><!-- doxytag: member="a1.h::PIPE_INPUT_OUTPUT" ref="ae4d3640fa33744f79768f60d7764e350" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PIPE_INPUT_OUTPUT</b>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a193c52d66a6ce7ac37a82e861c7bb8"></a><!-- doxytag: member="a1.h::PIPE_INPUT_TRANSLATE" ref="a7a193c52d66a6ce7ac37a82e861c7bb8" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PIPE_INPUT_TRANSLATE</b>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1a2d9df87eb080f39f9544c8e219958"></a><!-- doxytag: member="a1.h::PIPE_TRANS_OUTPUT" ref="af1a2d9df87eb080f39f9544c8e219958" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PIPE_TRANS_OUTPUT</b>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39912bfe2a55f30e269196f9141d845d"></a><!-- doxytag: member="a1.h::BUFFSIZE" ref="a39912bfe2a55f30e269196f9141d845d" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFSIZE</b>&#160;&#160;&#160;81</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8cecfc5c5c054d2875c03e77b7be15d"></a><!-- doxytag: member="a1.h::TRUE" ref="aa8cecfc5c5c054d2875c03e77b7be15d" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRUE</b>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa93f0eb578d23995850d61f7d61c55c1"></a><!-- doxytag: member="a1.h::FALSE" ref="aa93f0eb578d23995850d61f7d61c55c1" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FALSE</b>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d385e974a49598d267af81de5a33838"></a><!-- doxytag: member="a1.h::KILL" ref="a9d385e974a49598d267af81de5a33838" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>KILL</b>&#160;&#160;&#160;11</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada74e7db007a68e763f20c17f2985356"></a><!-- doxytag: member="a1.h::READ" ref="ada74e7db007a68e763f20c17f2985356" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>READ</b>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa10f470e996d0f51210d24f442d25e1e"></a><!-- doxytag: member="a1.h::WRITE" ref="aa10f470e996d0f51210d24f442d25e1e" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WRITE</b>&#160;&#160;&#160;1</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a1_8h.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The program's entry point.  <a href="#ae66f6b31b5ad750f1fe042a706a4e3d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a1_8h.html#a3eaf0723195dab696128e1936bae4b8d">input_proc</a> (int[2], int, int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The input process.  <a href="#a3eaf0723195dab696128e1936bae4b8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a1_8h.html#a56dcd1285988e393233032a0e111e6a7">output_proc</a> (int, int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The output process.  <a href="#a56dcd1285988e393233032a0e111e6a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a1_8h.html#a530ba9f4770c38a2e14bfef5036d3d09">translate_proc</a> (int, int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The translate process.  <a href="#a530ba9f4770c38a2e14bfef5036d3d09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a1_8h.html#aeb03c8f7fb011f5bc4546218e57be4b5">read_pipe</a> (int, char *, size_t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A read() wrapper function.  <a href="#aeb03c8f7fb011f5bc4546218e57be4b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a1_8h.html#ad2bc40284ec3a12004a41e9ce919884c">write_pipe</a> (int, const void *, size_t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A write() wrapper function.  <a href="#ad2bc40284ec3a12004a41e9ce919884c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a1_8h.html#adb1b7593faeb7c51affd62fd62c234ff">fatal</a> (char *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A error helper function. Prints message to stderr and terminates program.  <a href="#adb1b7593faeb7c51affd62fd62c234ff"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>See: <a class="el" href="a1_8c.html" title="This program demonstrates simple Linux IPC using pipes and signals.">a1.c</a>. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tom Nightingale </dd></dl>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="adb1b7593faeb7c51affd62fd62c234ff"></a><!-- doxytag: member="a1.h::fatal" ref="adb1b7593faeb7c51affd62fd62c234ff" args="(char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fatal </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A error helper function. Prints message to stderr and terminates program. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tom Nightingale</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>An error message to print to stderr. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3eaf0723195dab696128e1936bae4b8d"></a><!-- doxytag: member="a1.h::input_proc" ref="a3eaf0723195dab696128e1936bae4b8d" args="(int[2], int, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void input_proc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pid</em>[2], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txpipe_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txpipe_translate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The input process. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tom Nightingale</dd></dl>
<p>This is the program's main process. It monitors all keyboard input and passes characters on to the output process for echoing back. It also stores the characters within a buffer until the special &lt;ENTER&gt; character is received. When this occurs, the buffer is sent to the translate function for processing.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>An array containing all child process id's. </td></tr>
    <tr><td class="paramname">txpipe_output</td><td>A pipe write file descriptor for sending data to the output process. </td></tr>
    <tr><td class="paramname">txpipe_translate</td><td>A pipe write file descriptor for sending data to the translate process. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a><!-- doxytag: member="a1.h::main" ref="ae66f6b31b5ad750f1fe042a706a4e3d4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The program's entry point. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tom Nightingale</dd></dl>
<p>Initializes the processes and ports for IPC. </p>

</div>
</div>
<a class="anchor" id="a56dcd1285988e393233032a0e111e6a7"></a><!-- doxytag: member="a1.h::output_proc" ref="a56dcd1285988e393233032a0e111e6a7" args="(int, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void output_proc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rxpipe_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rxpipe_translate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The output process. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tom Nightingale</dd></dl>
<p>This process handles all output display. It simply reads data off its pipes and echos it to stdout. If it receives an 'E' (special &lt;ENTER&gt; character), it will check the translate pipe for any data to echo.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rxpipe_input</td><td>A pipe read file descriptor for receiving data from the output process. </td></tr>
    <tr><td class="paramname">rxpipe_translate</td><td>A pipe read file descriptor for receiving data from the translate process. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeb03c8f7fb011f5bc4546218e57be4b5"></a><!-- doxytag: member="a1.h::read_pipe" ref="aeb03c8f7fb011f5bc4546218e57be4b5" args="(int, char *, size_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_pipe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pipe_rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A read() wrapper function. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tom Nightingale</dd></dl>
<p>Helper function for read(), provides error checking.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe_rd</td><td>A pipe read file descriptor for receiving data. </td></tr>
    <tr><td class="paramname">buffer</td><td>A buffer to write data into. </td></tr>
    <tr><td class="paramname">size</td><td>The max amount of data to read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a530ba9f4770c38a2e14bfef5036d3d09"></a><!-- doxytag: member="a1.h::translate_proc" ref="a530ba9f4770c38a2e14bfef5036d3d09" args="(int, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void translate_proc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rxpipe_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txpipe_output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The translate process. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tom Nightingale</dd></dl>
<p>This process handles translation of the input buffer. Whenever the input process writes data onto the pipe, this process will read it off and parse it according to the following rules. * X: Backspace character. * a: Translated into z. * T: Terminate character.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rxpipe_input</td><td>A pipe read file descriptor for receiving data from the output process. </td></tr>
    <tr><td class="paramname">txpipe_output</td><td>A pipe write file descriptor for sending data to the output process. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad2bc40284ec3a12004a41e9ce919884c"></a><!-- doxytag: member="a1.h::write_pipe" ref="ad2bc40284ec3a12004a41e9ce919884c" args="(int, const void *, size_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_pipe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pipe_wr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A write() wrapper function. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tom Nightingale</dd></dl>
<p>Helper function for write(), provides error checking.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe_wr</td><td>A pipe write file descriptor for sending data. </td></tr>
    <tr><td class="paramname">buffer</td><td>A buffer containing data to write. </td></tr>
    <tr><td class="paramname">size</td><td>The max amount of data to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Jan 27 2011 03:36:56 for COMP 4981 - Assignment 1 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
